# 工厂模式：简单工厂&工厂方法&抽象工厂

工厂模式可分为简单工厂、工厂方法和抽象工厂模式。

- 简单工厂模式中，一个工厂类处于对产品类实例化的中心位置上，它知道每一个产品，它决定哪一个产品类应当被实例化。这个模式的优点是允许客户端相对独立于产品创建的过程，并且在系统引入新产品的时候无须修改客户端，即在某种程度上支持“开-闭”原则。这个模式的缺点是对“开-闭”原则的支持不够，因为如果有新的产品加入到系统中，则需要修改工厂类，将必要的逻辑加入到工厂类中。
- 工厂方法模式是简单工厂模式的进一步抽象和推广。由于使用了多态性，工厂方法模式保持了简单工厂模式的优点，且克服了它的缺点。首先，在工厂方法模式中，核心的工厂类不再负责所有产品的创建，而是将具体创建的工作交给子类去做。这个核心类则成为一个抽象工厂角色，仅负责给出具体工厂子类必须实现的接口，而不接触哪个产品类应当被实例化的细节。此种进一步抽象化的结果，使这种工厂方法模式可以用来允许系统在不修改具体工厂角色的情况下引进新的产品，这一特点使得工厂模式具有超过简单工厂的优越性。
- 抽象工厂模式是所有形态的工厂模式中最为抽象和最具有一般性的一种形态。抽象工厂模式与工厂方法模式的最大区别就在于，工厂方法模式针对的是一个产品等级结构；而抽象工厂模式则需要面对多个产品等级结构。

## 工厂系列

- 简单工厂

- 静态工厂

- 单例

- 工厂方法
  - 产品维度扩展

- 抽象工厂
  - 产品一族进行扩展

- Spring IOC

## 定义
- 任何可以产生对象的方法或类，都可以称之为工厂
- 单例也是一种工厂
- 不可咬文嚼字，死扣概念
- 为什么有了 new 之后，还要有工厂？
  - 灵活控制生产过程
  - 控制权限、添加修饰、添加日志...

## 举例

- 任意定制交通工具
  
  - 继承Moveable
- 任意定制生产过程
  
  - Moveable XXXFactory.create()，工厂方法，Moveable接口，子类去实现
  
    ```java
    Moveable car1 = new CarFactory().create("car");
    ```
- 任意定制产品一族
  
  - 抽象工厂

