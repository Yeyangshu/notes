# 那肯定啊。哎。其他

面试官您好，我叫朱明星，来自内蒙古赤峰市，南京工业大学毕业，到现在工作四年，非常感谢面试官给我的这次面试机会，下面我做个简单的描述，您先看一下我的简历。

蚂蚁金服国际支付金融交换域，金融交换域在整个支付链路中属于底层，也是内容最繁琐的域，向上对接支付域，提供支付、退款、汇兑等各种流入、流出的统一接口，来屏蔽各种支付的差异；向下对接超级网关，提供商户接口需要的各种信息，然后超级网关对接商户的接口，提供发送报文、接收报文和文件搬运的功能。主要职责是负责金融交换域接入时的需求评审、系分编写、状态机的设计及开发、清算的相关工作，以及金融交换后台系统金蝉的功能更新。工作最大的感受就是他们的支付架构设计以及支付状态机的设计，支付架构方面，包括收单、支付、金融交换和超网，每个域都有自己的职责，每个域都分出几个模块，比如说金融交换域有三个模块，ifinflux是支付核心，负责单据的流转，ifinbatch负责文件的打批和解析，ifinworks负责人工补偿，这三个模块一起推进单据的状态流转。

之前的公司易车出行的项目，是一个网约车软件，主要有乘客端、司机端、车载端，参与了多个模块的设计和开发，主要负责支付，支付模块的难在于分布式事务，支付完成之后同步更新订单状态，派单服务的难点多个司机抢单，使用分布式锁来解决此问题

之前还做过宝马悦学苑，是宝马内部培训的软件和一个教育类的app，在项目中也担任了主要模块的设计、接口定义和对应的开发工作。

面试官我的介绍大概这么多，您看有什么想问的。

 

 

Java包装词汇

面试时如何介绍自己的项目经验？https://mp.weixin.qq.com/s?__biz=MzI3ODcxMzQzMw==&mid=2247487419&idx=1&sn=2c3c0dfde68942bb5bcdcaa15b5c8c9f&chksm=eb538a8ddc24039b098cce33609199d17efde9345d2b6b165f04f48feceb394a71eda5bd867f&scene=21#wechat_redirect





# 大厂

面试官您好，非常感谢您给我的这次面试机会，下面我做个简单的描述，您先看一下我的简历。我叫朱明星，来自内蒙古赤峰市，我现在主要负责蚂蚁金服Ipay国际支付金融交换域的渠道接入开发，Ipay和国内支付宝不同的是，商户多数来自AE（AliExpress），主要做的是境外或者跨境的支付，对接的全球的发卡行或收单行。金融交换域在整个支付链路中属于底层，也是内容最繁琐的域，向上对接支付域，提供支付、退款、汇兑等各种流入、流出的统一接口，来屏蔽各种支付的差异；向下对接超级网关，提供商户接口需要的各种信息。主要职责是负责金融交换域接入时的需求评审、系分编写、状态机的设计及开发、清算的相关工作，以及金融交换后台系统金蝉的功能更新。工作最大的感受就是他们的支付架构设计以及支付状态机的设计，架构方面，细分职责，收单、支付、金融交换和超网，每个域都有自己的职责，每个域又分出几个模块，比如说金融交换域有三个模块，ifinflux是支付核心，负责单据的流转，ifinbatch负责文件的打批和解析，ifinworks负责人工补偿，这三个模块一起推进单据的状态流转。这个可以借鉴。下班期间，每天都会坚持学习到一点。面试官我的介绍大概这么多，您看您有什么想问的。

 

主要负责金融交换渠道接入的PRD评审、系分评审、渠道接入开发、金蝉后台的部分功能更新。

## 项目中的重点和难点？

项目中的重点和难点在于根据渠道的不同设计状态机状态机的流程模板。金融交换设计出来组合交换和原子交换模型，组合交换表示交融交换为上层提供的服务能力，控制业务的处理，包括充值、撤销、充退、退票等，原子交换表示和机构的一次交互或是为了完成组合交换的推进发生的一次行为。一个组合交换包含多个原子交换，超网的输入推动着原子交换的状态机，原子交换的状态推动着组合交换的状态。



组合和原子都有自己的流程模板，也就是状态机模板，上游发起一笔支付的时候会在金融交换创建组合单，

- 这个时候需要注意的是组合单id的生成，调用了ZDAL获得全局唯一序列完成分布式ID的唯一性
- 然后执行组合单的流程模板的process方法，首先new一个INIT状态的Trigger，推动组合状态机运行
- 组合：通过navigator方法加载DB配置的下一个状态（navigator）
- 组合：当前navigate的下的action列表，开始处理列表中的action

- 组合单会先开启一个Spring事务，然后创建一个原子单，
- 原子单也有自己的状态机，这个时候就会找到原子单的流程模板并执行，首先new一个INIT状态的Trigger，推动原子状态机运行
- 原子：通过navigator方法加载DB配置的下一个状态（navigator）
- 原子：当前navigate的下的action列表，开始处理列表中的action
- 原子单会在组合单的基础上再次开启一个Spring事务，然后在异步线程池里执行超网的调用
- 原子的事物结束，组合的事务结束

原子返回：在处理超网返回的结果会根据请求号查找到当前的原子单以及原子单的状态机，这个时候会继续执行原子单的流程模板

原子回执组合：原子回执组合的代码里查到组合的流程模板继续执行组合的推进



有的时候状态机的设计不好，不能正常的推进 