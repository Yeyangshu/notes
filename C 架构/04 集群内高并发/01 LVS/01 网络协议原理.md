# 网络协议

## 应用层协议

- HTTP协议：请求
- SSH协议：登录服务器
- SFTP协议：发邮件

## 传输控制层

- TCP协议
- UDP协议

### 三次握手

### 四次挥手

TCP是面向连接的可靠协议，销毁资源的时候必须两方确认

三次握手 -> 数据传输 -> 四次分手



输入命令，可以查看所有连接

```
netstat -natp
```

连接服务器，开启两个端口，windows端口号不同

![image-20210109160236534](https://yeyangshu-picgo.oss-cn-shanghai.aliyuncs.com/img/image-20210109160236534.png)

## 网络层

命令

```
cat /etc/sysconfig/network-scripts/ifcfg-eth0
```

结果

```
IPADDR=192.168.150.14
NETMASK=255.255.255.14
GATEWAY=192.168.150.2
DNS1=233.5.5.5
DNS2=114.114.114.114
```

一个字节8个二进制位，表示十进制数范围0~255（11111111(2)=255(10)）

NETMASK掩码：IP地址和掩码做按位二进制与运算，可以得出网络号，192.168.150.14与255.255.255.14得出92.168.150.0

### 下一跳

网络层：使用下一跳 机制

route -n

路由表，按位与，做路由判定，找到下一跳地址

## 链路层

结论：

TCP/IP协议：

基于下一跳的机制：

IP是端点间

mac地址是节点间的

## 物理层

物理交换机